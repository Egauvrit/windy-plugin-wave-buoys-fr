const e={name:"windy-plugin-wave-buoys-fr",version:"0.1.0",title:"Wave Buoys (FR)",icon:"ðŸŒŠ",description:"This plugin gives the french wave buoys data from CEREMA.",author:"Edouard Gauvrit",repository:"git+https://github.com/windycom/windy-plugins.git",desktopUI:"rhpane",mobileUI:"fullscreen",desktopWidth:600,built:1725626705247,builtReadable:"2024-09-06T12:45:05.247Z",screenshot:"screenshot.png"},t=W.broadcast,{map:n}=W.map;function a(){}function r(e){return e()}function c(){return Object.create(null)}function o(e){e.forEach(r)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t){e.appendChild(t)}function p(e,t,n){const a=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!a.getElementById(t)){const e=d("style");e.id=t,e.textContent=n,function(e,t){i(e.head||e,t),t.sheet}(a,e)}}function h(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function m(){return f(" ")}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){t=""+t,e.data!==t&&(e.data=t)}let _;function w(e){_=e}function v(){if(!_)throw new Error("Function called outside component initialization");return _}const D=[],$=[];let y=[];const I=[],M=Promise.resolve();let x=!1;function F(e){y.push(e)}const Y=new Set;let N=0;function k(){if(0!==N)return;const e=_;do{try{for(;N<D.length;){const e=D[N];N++,w(e),A(e.$$)}}catch(e){throw D.length=0,N=0,e}for(w(null),D.length=0,N=0;$.length;)$.pop()();for(let e=0;e<y.length;e+=1){const t=y[e];Y.has(t)||(Y.add(t),t())}y.length=0}while(D.length);for(;I.length;)I.pop()();x=!1,Y.clear(),w(e)}function A(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}const E=new Set;function T(e){return void 0!==e?.length?e:Array.from(e)}function Q(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];y.forEach((a=>-1===e.indexOf(a)?t.push(a):n.push(a))),n.forEach((e=>e())),y=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function O(e,t){-1===e.$$.dirty[0]&&(D.push(e),x||(x=!0,M.then(k)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(e,t,n,s,i,p,h=null,d=[-1]){const f=_;w(e);const m=e.$$={fragment:null,ctx:[],props:p,update:a,not_equal:i,bound:c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:c(),dirty:d,skip_bound:!1,root:t.target||f.$$.root};h&&h(m.root);let g=!1;if(m.ctx=n?n(e,t.props||{},((t,n,...a)=>{const r=a.length?a[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),g&&O(e,t)),n})):[],m.update(),g=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);m.fragment&&m.fragment.l(e),e.forEach(u)}else m.fragment&&m.fragment.c();t.intro&&((b=e.$$.fragment)&&b.i&&(E.delete(b),b.i(v))),function(e,t,n){const{fragment:a,after_update:c}=e.$$;a&&a.m(t,n),F((()=>{const t=e.$$.on_mount.map(r).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),c.forEach(F)}(e,t.target,t.anchor),k()}var b,v;w(f)}class C{$$=void 0;$$set=void 0;$destroy(){Q(this,1),this.$destroy=a}$on(e,t){if(!l(t))return a;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const S={name:"windy-plugin-wave-buoys-fr",version:"0.1.0",title:"Wave Buoys (FR)",icon:"ðŸŒŠ",description:"This plugin gives the french wave buoys data from CEREMA.",author:"Edouard Gauvrit",repository:"git+https://github.com/windycom/windy-plugins.git",desktopUI:"rhpane",mobileUI:"fullscreen",desktopWidth:600};var B=[{ID:"05903",name:"Gravelines",lat:"51.04",lon:"2.07",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNTkwMw=="},{ID:"08002",name:"Baie de Somme",lat:"50.25",lon:"1.33",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wODAwMg=="},{ID:"07610",name:"Port dâ€™Antifer",lat:"49.66",lon:"0.14",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNzYxMA=="},{ID:"07611",name:"Le Havre â€“ Nord du mouillage",lat:"49.48",lon:"0.01",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNzYxMQ=="},{ID:"07609",name:"Le Havre â€“ Haut du Sud-Ouest",lat:"49.47",lon:"0.08",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNzYwOQ=="},{ID:"05008",name:"Cherboug",lat:"49.69",lon:"-1.62",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNTAwOA=="},{ID:"02911",name:"Les Pierres Noires",lat:"48.29",lon:"-4.97",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMjkxMQ=="},{ID:"05602",name:"Belle-Ile",lat:"47.28",lon:"-3.28",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNTYwMg=="},{ID:"04403",name:"Plateau du Four",lat:"47.24",lon:"-2.78",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNDQwMw=="},{ID:"08505",name:"Noirmoutier",lat:"46.92",lon:"-2.47",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wODUwNQ=="},{ID:"08504",name:"Ile dâ€™Yeu Nord",lat:"46.83",lon:"-2.29",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wODUwNA=="},{ID:"01704",name:"OlÃ©ron Large",lat:"45.92",lon:"-1.83",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMTcwNA=="},{ID:"01705",name:"Royan",lat:"45.61",lon:"-1.03",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMTcwNQ=="},{ID:"03302",name:"Cap Ferret",lat:"44.65",lon:"-1.45",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMzMwMg=="},{ID:"06402",name:"Anglet",lat:"43.53",lon:"-1.61",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNjQwMg=="},{ID:"06403",name:"Saint-Jean-de-Luz",lat:"43.41",lon:"-1.68",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNjQwMw=="},{ID:"06601",name:"Banyuls",lat:"42.49",lon:"3.17",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wNjYwMQ=="},{ID:"01101",name:"Leucate",lat:"42.92",lon:"3.12",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMTEwMQ=="},{ID:"03404",name:"SÃ¨te",lat:"43.37",lon:"3.78",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMzQwNA=="},{ID:"03001",name:"Espiguette",lat:"43.41",lon:"4.16",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMzAwMQ=="},{ID:"01305",name:"Le Planier",lat:"43.21",lon:"5.23",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMTMwNQ=="},{ID:"08302",name:"Porquerolles",lat:"42.97",lon:"6.2",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wODMwMg=="},{ID:"98000",name:"Monaco",lat:"43.71",lon:"7.43",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD05ODAwMA=="},{ID:"02B04",name:"La Revellata",lat:"42.57",lon:"8.65",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMkIwNA=="},{ID:"02B05",name:"Alistro",lat:"42.26",lon:"9.64",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMkIwNQ=="},{ID:"02A01",name:"Bonifacio",lat:"41.32",lon:"8.88",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD0wMkEwMQ=="},{ID:"97501",name:"Saint-Pierre et Miquelon",lat:"46.7",lon:"-56.18",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD05NzQwMw=="},{ID:"97801",name:"Saint-Martin",lat:"18.14",lon:"-62.99",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD05ODAwMA=="},{ID:"97403",name:"RiviÃ¨re des Galets",lat:"-20.94",lon:"55.28",href:"https://candhis.cerema.fr/_public_/campagne.php?Y2FtcD05NzQwMw=="}];function P(e){p(e,"svelte-1a51rpe","p.svelte-1a51rpe{line-height:1.8;color:#e7d6a6}img.svelte-1a51rpe{display:block;margin:0 auto}table.svelte-1a51rpe{width:100%;border-collapse:collapse;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;background-color:#fff;border-radius:8px;overflow:hidden}th.svelte-1a51rpe{background-color:#cfbe8d;color:white;border-bottom:2px solid #ddd;text-align:center;padding:12px 15px;font-weight:bold}td.svelte-1a51rpe{border-bottom:1px solid #b8b7b7;text-align:center;padding:10px 15px}tr.svelte-1a51rpe:nth-child(even){background-color:#666666}tr.svelte-1a51rpe:nth-child(odd){background-color:#808080}tr.svelte-1a51rpe:hover{background-color:#ad8b64}@media(max-width: 600px){th.svelte-1a51rpe,td.svelte-1a51rpe{font-size:14px}}")}function R(e,t,n){const a=e.slice();return a[10]=t[n],a}function H(e){let t;return{c(){t=d("h1"),t.textContent="Please select a wave buoy."},m(e,n){h(e,t,n)},p:a,d(e){e&&u(t)}}}function j(e){let t,n,a,r,c;return{c(){t=d("h1"),n=f(e[1]),a=f(" ("),r=f(e[2]),c=f(")")},m(e,o){h(e,t,o),i(t,n),i(t,a),i(t,r),i(t,c)},p(e,t){2&t&&b(n,e[1]),4&t&&b(r,e[2])},d(e){e&&u(t)}}}function U(e){let t;return{c(){t=d("p"),t.textContent="No data available",g(t,"class","svelte-1a51rpe")},m(e,n){h(e,t,n)},p:a,d(e){e&&u(t)}}}function G(e){let t,n,a,r,c=T(e[0]),o=[];for(let t=0;t<c.length;t+=1)o[t]=q(R(e,c,t));return{c(){t=d("table"),n=d("thead"),n.innerHTML='<tr class="svelte-1a51rpe"><th class="svelte-1a51rpe">Date</th> <th class="svelte-1a51rpe">Hs</th> <th class="svelte-1a51rpe">Hmax</th> <th class="svelte-1a51rpe">Tp</th> <th class="svelte-1a51rpe">Dir.</th> <th class="svelte-1a51rpe">Spread</th> <th class="svelte-1a51rpe">Temp.</th></tr>',a=m(),r=d("tbody");for(let e=0;e<o.length;e+=1)o[e].c();g(t,"class","svelte-1a51rpe")},m(e,c){h(e,t,c),i(t,n),i(t,a),i(t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(r,null)},p(e,t){if(1&t){let n;for(c=T(e[0]),n=0;n<c.length;n+=1){const a=R(e,c,n);o[n]?o[n].p(a,t):(o[n]=q(a),o[n].c(),o[n].m(r,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=c.length}},d(e){e&&u(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(o,e)}}}function q(e){let t,n,a,r,c,o,l,s,p,_,w,v,D,$,y,I,M,x,F,Y,N,k,A=e[10][0]+"",E=e[10][1]+"",T=e[10][2]+"",Q=e[10][3]+"",L=e[10][4]+"",O=e[10][5]+"",z=e[10][6]+"";return{c(){t=d("tr"),n=d("td"),a=f(A),r=m(),c=d("td"),o=f(E),l=m(),s=d("td"),p=f(T),_=m(),w=d("td"),v=f(Q),D=m(),$=d("td"),y=f(L),I=m(),M=d("td"),x=f(O),F=m(),Y=d("td"),N=f(z),k=m(),g(n,"class","svelte-1a51rpe"),g(c,"class","svelte-1a51rpe"),g(s,"class","svelte-1a51rpe"),g(w,"class","svelte-1a51rpe"),g($,"class","svelte-1a51rpe"),g(M,"class","svelte-1a51rpe"),g(Y,"class","svelte-1a51rpe"),g(t,"class","svelte-1a51rpe")},m(e,u){h(e,t,u),i(t,n),i(n,a),i(t,r),i(t,c),i(c,o),i(t,l),i(t,s),i(s,p),i(t,_),i(t,w),i(w,v),i(t,D),i(t,$),i($,y),i(t,I),i(t,M),i(M,x),i(t,F),i(t,Y),i(Y,N),i(t,k)},p(e,t){1&t&&A!==(A=e[10][0]+"")&&b(a,A),1&t&&E!==(E=e[10][1]+"")&&b(o,E),1&t&&T!==(T=e[10][2]+"")&&b(p,T),1&t&&Q!==(Q=e[10][3]+"")&&b(v,Q),1&t&&L!==(L=e[10][4]+"")&&b(y,L),1&t&&O!==(O=e[10][5]+"")&&b(x,O),1&t&&z!==(z=e[10][6]+"")&&b(N,z)},d(e){e&&u(t)}}}function Z(e){let t,n,r,c,o,l,s,p,f,b,_,w,v,D,$,y;function I(e,t){return e[1].length>0?j:H}let M=I(e),x=M(e);function F(e,t){return e[0].length>0?G:U}let Y=F(e),N=Y(e);return{c(){t=d("div"),t.textContent=`${e[3]}`,n=m(),r=d("section"),c=d("div"),c.textContent=`${e[3]}`,o=m(),l=d("p"),l.innerHTML='<img src="https://cdn-icons-png.flaticon.com/512/1816/1816116.png" alt="Buoy" width="128" class="svelte-1a51rpe"/>',s=m(),x.c(),p=m(),f=d("hr"),b=m(),N.c(),_=m(),w=d("hr"),v=m(),D=d("p"),D.innerHTML='<img src="https://urbanvitaliz.fr/static/img/partners/logo_cerema.png" alt="Cerema" width="256" class="svelte-1a51rpe"/>',g(t,"class","plugin__mobile-header"),g(c,"class","plugin__title plugin__title--chevron-back"),g(l,"class","mt-5 mb-20 svelte-1a51rpe"),g(D,"class","mt-20 mb-5 svelte-1a51rpe"),g(r,"class","plugin__content")},m(a,u){var d,m,g,I;h(a,t,u),h(a,n,u),h(a,r,u),i(r,c),i(r,o),i(r,l),i(r,s),x.m(r,null),i(r,p),i(r,f),i(r,b),N.m(r,null),i(r,_),i(r,w),i(r,v),i(r,D),$||(d=c,m="click",g=e[4],d.addEventListener(m,g,I),y=()=>d.removeEventListener(m,g,I),$=!0)},p(e,[t]){M===(M=I(e))&&x?x.p(e,t):(x.d(1),x=M(e),x&&(x.c(),x.m(r,p))),Y===(Y=F(e))&&N?N.p(e,t):(N.d(1),N=Y(e),N&&(N.c(),N.m(r,_)))},i:a,o:a,d(e){e&&(u(t),u(n),u(r)),x.d(),N.d(),$=!1,y()}}}function J(e){return L.icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/1816/1816116.png",iconSize:[e,e],iconAnchor:[e/2,e/2]})}function V(e,a,r){const{title:c}=S;let o=[],l=[],s=[],i=[],p=[];function h(){const e=8+2*n.getZoom();o.forEach((({marker:t})=>{t.setIcon(J(e))}))}async function u(){try{const e=await fetch("http://localhost:4000/scrape-data");e.ok?(l=await e.json(),o.forEach((({marker:e,ID:t})=>{const n=l[t];let a="N/A",r="N/A",c="N/A";n&&n.length>0&&n[0].length>1&&(a=n[0][1],r=n[0][3],c=n[0][4]),e.bindPopup(`\n                <b>${e.getPopup().getContent().split("<br>")[0]}</b><br>\n                <b>Hs:</b> ${a} | <b>Tp:</b> ${r} | <b>Dir:</b> ${c}\n            `)}))):console.error("Failed to fetch data from server.")}catch(e){console.error("Error fetching data:",e)}}var d;d=()=>{B.forEach((e=>{const{ID:t,name:a,lat:c,lon:h,href:u}=e,d=L.marker([c,h],{icon:J(8+2*n.getZoom())}).addTo(n);d.bindPopup(`<b>${a}</b>`),o.push({marker:d,ID:t}),d.on("click",(()=>{r(0,s=l[t]||[]),r(1,i=a),r(2,p=t)}))})),u(),n.on("zoomend",h)},v().$$.on_mount.push(d),function(e){v().$$.on_destroy.push(e)}((()=>{o.forEach((({marker:e})=>{n.removeLayer(e)}))}));return[s,i,p,c,()=>t.emit("rqstOpen","menu")]}class K extends C{constructor(e){super(),z(this,e,V,Z,s,{},P)}}export{e as __pluginConfig,K as default};
