const t={name:"windy-plugin-wave-buoys-fr",version:"0.1.0",title:"Wave Buoys (FR)",icon:"ðŸŒŠ",description:"This plugin gives the french wave buoys data from CEREMA.",author:"Edouard Gauvrit",repository:"git+https://github.com/windycom/windy-plugins.git",desktopUI:"rhpane",mobileUI:"fullscreen",desktopWidth:600,built:1716545306800,builtReadable:"2024-05-24T10:08:26.800Z",screenshot:"screenshot.jpg"},e=W.broadcast,{map:n}=W.map;function o(){}function r(t){return t()}function a(){return Object.create(null)}function l(t){t.forEach(r)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function u(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=f("style");t.id=e,t.textContent=n,function(t,e){c(t.head||t,e),e.sheet}(o,t)}}function d(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function m(){return t=" ",document.createTextNode(t);var t}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let g;function b(t){g=t}function v(){if(!g)throw new Error("Function called outside component initialization");return g}const $=[],y=[];let k=[];const x=[],w=Promise.resolve();let D=!1;function I(t){k.push(t)}const _=new Set;let E=0;function C(){if(0!==E)return;const t=g;do{try{for(;E<$.length;){const t=$[E];E++,b(t),A(t.$$)}}catch(t){throw $.length=0,E=0,t}for(b(null),$.length=0,E=0;y.length;)y.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];_.has(e)||(_.add(e),e())}k.length=0}while($.length);for(;x.length;)x.pop()();D=!1,_.clear(),b(t)}function A(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const S=new Set;function T(t){return void 0!==t?.length?t:Array.from(t)}function P(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];k.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),k=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&($.push(t),D||(D=!0,w.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(t,e,n,i,c,u,d=null,f=[-1]){const m=g;b(t);const p=t.$$={fragment:null,ctx:[],props:u,update:o,not_equal:c,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:a(),dirty:f,skip_bound:!1,root:e.target||m.$$.root};d&&d(p.root);let v=!1;if(p.ctx=n?n(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&c(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),v&&B(t,e)),n})):[],p.update(),v=!0,l(p.before_update),p.fragment=!!i&&i(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();e.intro&&(($=t.$$.fragment)&&$.i&&(S.delete($),$.i(y))),function(t,e,n){const{fragment:o,after_update:a}=t.$$;o&&o.m(e,n),I((()=>{const e=t.$$.on_mount.map(r).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):l(e),t.$$.on_mount=[]})),a.forEach(I)}(t,e.target,e.anchor),C()}var $,y;b(m)}class N{$$=void 0;$$set=void 0;$destroy(){P(this,1),this.$destroy=o}$on(t,e){if(!s(e))return o;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const H={name:"windy-plugin-wave-buoys-fr",version:"0.1.0",title:"Wave Buoys (FR)",icon:"ðŸŒŠ",description:"This plugin gives the french wave buoys data from CEREMA.",author:"Edouard Gauvrit",repository:"git+https://github.com/windycom/windy-plugins.git",desktopUI:"rhpane",mobileUI:"fullscreen",desktopWidth:600};var R=[{ID:"05903",name:"Gravelines",lat:51.04,lon:2.07},{ID:"08002",name:"Baie de Somme",lat:50.25,lon:1.33},{ID:"07610",name:"Port dâ€™Antifer",lat:49.66,lon:.14},{ID:"07611",name:"Le Havre â€“ Nord du mouillage",lat:49.48,lon:.01},{ID:"07609",name:"Le Havre â€“ Haut du Sud-Ouest",lat:49.47,lon:.08},{ID:"05008",name:"Cherboug",lat:49.69,lon:-1.62},{ID:"05602",name:"Belle-Ile",lat:47.28,lon:-3.28},{ID:"04403",name:"Plateau du Four",lat:47.24,lon:-2.78},{ID:"08505",name:"Noirmoutier",lat:46.92,lon:-2.47},{ID:"08504",name:"Ile dâ€™Yeu Nord",lat:46.83,lon:-2.29},{ID:"01704",name:"OlÃ©ron Large",lat:45.92,lon:-1.83},{ID:"01705",name:"Royan",lat:45.61,lon:-1.03},{ID:"03302",name:"Cap Ferret",lat:44.65,lon:-1.45},{ID:"06402",name:"Anglet",lat:43.53,lon:-1.61},{ID:"06403",name:"Saint-Jean-de-Luz",lat:43.41,lon:-1.68},{ID:"06601",name:"Banyuls",lat:42.49,lon:3.17},{ID:"01101",name:"Leucate",lat:42.92,lon:3.12},{ID:"03404",name:"SÃ¨te",lat:43.37,lon:3.78},{ID:"03001",name:"Espiguette",lat:43.41,lon:4.16},{ID:"01305",name:"Le Planier",lat:43.21,lon:5.23},{ID:"08302",name:"Porquerolles",lat:42.97,lon:6.2},{ID:98e3,name:"Monaco",lat:43.71,lon:7.43},{ID:"02B04",name:"La Revellata",lat:42.57,lon:8.65},{ID:"02B05",name:"Alistro",lat:42.26,lon:9.64},{ID:"02A01",name:"Bonifacio",lat:41.32,lon:8.88},{ID:97501,name:"Saint-Pierre et Miquelon",lat:46.7,lon:-56.18},{ID:97801,name:"Saint-Martin",lat:18.14,lon:-62.99},{ID:97403,name:"RiviÃ¨re des Galets",lat:-20.94,lon:55.28},{ID:"02911",name:"Les Pierres Noires",lat:48.29,lon:-4.97}];function F(t){u(t,"svelte-16hkarb","p.svelte-16hkarb{line-height:1.8;color:#e7d6a6}img.svelte-16hkarb{display:block;margin:0 auto}table.svelte-16hkarb{width:100%;border-collapse:collapse;font-family:Arial, sans-serif}th.svelte-16hkarb{background-color:#8f8f8f;border:1px solid #dddddd;text-align:left;padding:8px}td.svelte-16hkarb{border:1px solid #dddddd;text-align:left;padding:8px}tr.svelte-16hkarb:hover{background-color:#e9961a}")}function O(t,e,n){const o=t.slice();return o[7]=e[n],o}function q(t){let e;return{c(){e=f("p"),e.textContent="No data available",p(e,"class","svelte-16hkarb")},m(t,n){d(t,e,n)},p:o,d(t){t&&h(e)}}}function z(t){let e,n,o,r,a=T(t[1]),l=[];for(let e=0;e<a.length;e+=1)l[e]=U(O(t,a,e));return{c(){e=f("table"),n=f("thead"),n.innerHTML='<tr class="svelte-16hkarb"><th class="svelte-16hkarb">Date</th> <th class="svelte-16hkarb">Hs</th> <th class="svelte-16hkarb">Hmax</th> <th class="svelte-16hkarb">Tp</th> <th class="svelte-16hkarb">Dir.</th> <th class="svelte-16hkarb">Spread</th> <th class="svelte-16hkarb">Temp.</th></tr>',o=m(),r=f("tbody");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","svelte-16hkarb")},m(t,a){d(t,e,a),c(e,n),c(e,o),c(e,r);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(r,null)},p(t,e){if(2&e){let n;for(a=T(t[1]),n=0;n<a.length;n+=1){const o=O(t,a,n);l[n]?l[n].p(o,e):(l[n]=U(o),l[n].c(),l[n].m(r,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}},d(t){t&&h(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(l,t)}}}function U(t){let e,n,r,a,l,s,i,u,g,b,v,$,y,k,x;return{c(){e=f("tr"),n=f("td"),n.textContent=`${t[7].Date}`,r=m(),a=f("td"),a.textContent=`${t[7]["H1/3"]}`,l=m(),s=f("td"),s.textContent=`${t[7].Hmax}`,i=m(),u=f("td"),u.textContent=`${t[7]["Th1/3"]}`,g=m(),b=f("td"),b.textContent=`${t[7].DirPic}`,v=m(),$=f("td"),$.textContent=`${t[7].EtalPic}`,y=m(),k=f("td"),k.textContent=`${t[7].TempMer}`,x=m(),p(n,"class","svelte-16hkarb"),p(a,"class","svelte-16hkarb"),p(s,"class","svelte-16hkarb"),p(u,"class","svelte-16hkarb"),p(b,"class","svelte-16hkarb"),p($,"class","svelte-16hkarb"),p(k,"class","svelte-16hkarb"),p(e,"class","svelte-16hkarb")},m(t,o){d(t,e,o),c(e,n),c(e,r),c(e,a),c(e,l),c(e,s),c(e,i),c(e,u),c(e,g),c(e,b),c(e,v),c(e,$),c(e,y),c(e,k),c(e,x)},p:o,d(t){t&&h(e)}}}function j(t){let e,n,r,a,l,s,i,u,g,b,v,$,y,k,x,w,D,I,_;let E=function(t,e){return t[1].length>0?z:q}(t),C=E(t);return{c(){e=f("div"),e.textContent=`${t[0]}`,n=m(),r=f("section"),a=f("div"),a.textContent=`${t[0]}`,l=m(),s=f("p"),s.innerHTML='<img src="https://cdn-icons-png.flaticon.com/512/1816/1816116.png" alt="Buoy" width="128" class="svelte-16hkarb"/>',i=m(),u=f("h3"),u.textContent="ðŸš§ Work in progress! ðŸš§",g=m(),b=f("p"),b.textContent='A Windy plugin that "should" displays data from French wave buoys operated by Cerema.',v=m(),$=f("hr"),y=m(),C.c(),k=m(),x=f("hr"),w=m(),D=f("p"),D.innerHTML='<img src="https://urbanvitaliz.fr/static/img/partners/logo_cerema.png" alt="Cerema" width="256" class="svelte-16hkarb"/>',p(e,"class","plugin__mobile-header"),p(a,"class","plugin__title plugin__title--chevron-back"),p(s,"class","mt-5 mb-20 svelte-16hkarb"),p(b,"class","size-l svelte-16hkarb"),p(D,"class","mt-20 mb-5 svelte-16hkarb"),p(r,"class","plugin__content")},m(o,h){var f,m,p,E;d(o,e,h),d(o,n,h),d(o,r,h),c(r,a),c(r,l),c(r,s),c(r,i),c(r,u),c(r,g),c(r,b),c(r,v),c(r,$),c(r,y),C.m(r,null),c(r,k),c(r,x),c(r,w),c(r,D),I||(f=a,m="click",p=t[2],f.addEventListener(m,p,E),_=()=>f.removeEventListener(m,p,E),I=!0)},p(t,[e]){C.p(t,e)},i:o,o:o,d(t){t&&(h(e),h(n),h(r)),C.d(),I=!1,_()}}}function G(t){const{title:o}=H;let r=[],a=[];var l;l=()=>{const t=L.icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/1816/1816116.png",iconSize:[22,22],iconAnchor:[11,11]});R.forEach((e=>{const{ID:o,name:a,lat:l,lon:s}=e,i=L.marker([l,s],{icon:t}).addTo(n);i.bindPopup(`<b>${a}</b>`).openPopup(),r.push(i)})),async function(){try{const t=await fetch("https://www.allosurf.net/meteo/live/les-pierres-noires-bouee-fr-02911.html");if(!t.ok)throw new Error(`Failed to fetch page: ${t.status} ${t.statusText}`);const e=await t.text(),n=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("table tr");a=Array.from(n).map((t=>{const e=t.querySelectorAll("td");return Array.from(e).map((t=>t.textContent.trim()))}))}catch(t){console.error("Error fetching campaign data:",t)}}(),n.setView([47,2],6)},v().$$.on_mount.push(l),function(t){v().$$.on_destroy.push(t)}((()=>{r.forEach((t=>{n.removeLayer(t)}))}));return[o,[],()=>e.emit("rqstOpen","menu")]}class J extends N{constructor(t){super(),M(this,t,G,j,i,{},F)}}export{t as __pluginConfig,J as default};
